{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "OPRResponse",
  "type": "object",
  "additionalProperties": false,
  "required": [
    "country",
    "country_code",
    "island_group",
    "region",
    "region_code",
    "province",
    "province_code",
    "city",
    "city_type",
    "postal_code",
    "latitude",
    "longitude",
    "routes"
  ],
  "properties": {
    "country": { "const": "Philippines" },
    "country_code": { "const": "PH" },
    "island_group": {
      "type": "string",
      "enum": ["Luzon", "Visayas", "Mindanao"]
    },
    "region": { "type": "string" },
    "region_code": { "type": "string" },
    "province": { "type": "string" },
    "province_code": { "type": "string" },
    "city": { "type": "string" },
    "city_type": {
      "type": "string",
      "enum": ["highly_urbanized_city", "component_city", "municipality"]
    },
    "postal_code": {
      "type": "string",
      "pattern": "^\\d{4}$"
    },
    "latitude": { "type": "number" },
    "longitude": { "type": "number" },
    "routes": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["route_code", "name", "waypoints"],
        "properties": {
          "route_code": { "type": "string" },
          "name": { "type": "string" },
          "waypoints": {
            "type": "array",
            "items": {
              "type": "object",
              "additionalProperties": false,
              "required": [
                "sequence",
                "sub_locality",
                "sub_locality_type",
                "street",
                "destination",
                "latitude",
                "longitude"
              ],
              "properties": {
                "sequence": { "type": "number" },
                "sub_locality": { "type": "string" },
                "sub_locality_type": {
                  "type": "string",
                  "enum": ["district", "barangay"]
                },
                "street": { "type": "string" },
                "destination": { "type": "string" },
                "latitude": { "type": "number" },
                "longitude": { "type": "number" }
              }
            }
          }
        }
      }
    }
  }
}
